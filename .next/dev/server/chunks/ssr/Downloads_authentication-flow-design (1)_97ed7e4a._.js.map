{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/puyijun/Downloads/authentication-flow-design%20%281%29/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost:\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\n        icon: 'size-9',\n        'icon-sm': 'size-8',\n        'icon-lg': 'size-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'button'> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : 'button'\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,4SAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,sWAAI,GAAG;IAE9B,qBACE,waAAC;QACC,aAAU;QACV,WAAW,IAAA,4KAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 63, "column": 0}, "map": {"version":3,"sources":["file:///Users/puyijun/Downloads/authentication-flow-design%20%281%29/components/ui/input.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Input({ className, type, ...props }: React.ComponentProps<'input'>) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        'file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n        'focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]',\n        'aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,waAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,4KAAE,EACX,8bACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file:///Users/puyijun/Downloads/authentication-flow-design%20%281%29/components/ui/label.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as LabelPrimitive from '@radix-ui/react-label'\n\nimport { cn } from '@/lib/utils'\n\nfunction Label({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  return (\n    <LabelPrimitive.Root\n      data-slot=\"label\"\n      className={cn(\n        'flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Label }\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,MAAM,EACb,SAAS,EACT,GAAG,OAC8C;IACjD,qBACE,waAAC,ubAAmB;QAClB,aAAU;QACV,WAAW,IAAA,4KAAE,EACX,uNACA;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 115, "column": 0}, "map": {"version":3,"sources":["file:///Users/puyijun/Downloads/authentication-flow-design%20%281%29/components/ui/tabs.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as TabsPrimitive from '@radix-ui/react-tabs'\n\nimport { cn } from '@/lib/utils'\n\nfunction Tabs({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Root>) {\n  return (\n    <TabsPrimitive.Root\n      data-slot=\"tabs\"\n      className={cn('flex flex-col gap-2', className)}\n      {...props}\n    />\n  )\n}\n\nfunction TabsList({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.List>) {\n  return (\n    <TabsPrimitive.List\n      data-slot=\"tabs-list\"\n      className={cn(\n        'bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TabsTrigger({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Trigger>) {\n  return (\n    <TabsPrimitive.Trigger\n      data-slot=\"tabs-trigger\"\n      className={cn(\n        \"data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TabsContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Content>) {\n  return (\n    <TabsPrimitive.Content\n      data-slot=\"tabs-content\"\n      className={cn('flex-1 outline-none', className)}\n      {...props}\n    />\n  )\n}\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n"],"names":[],"mappings":";;;;;;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,KAAK,EACZ,SAAS,EACT,GAAG,OAC6C;IAChD,qBACE,waAAC,sbAAkB;QACjB,aAAU;QACV,WAAW,IAAA,4KAAE,EAAC,uBAAuB;QACpC,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,SAAS,EAChB,SAAS,EACT,GAAG,OAC6C;IAChD,qBACE,waAAC,sbAAkB;QACjB,aAAU;QACV,WAAW,IAAA,4KAAE,EACX,uGACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,waAAC,ybAAqB;QACpB,aAAU;QACV,WAAW,IAAA,4KAAE,EACX,mqBACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,waAAC,ybAAqB;QACpB,aAAU;QACV,WAAW,IAAA,4KAAE,EAAC,uBAAuB;QACpC,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 181, "column": 0}, "map": {"version":3,"sources":["file:///Users/puyijun/Downloads/authentication-flow-design%20%281%29/lib/supabase-client.ts"],"sourcesContent":["import { createClient } from \"@supabase/supabase-js\"\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY\n\nif (!supabaseUrl || !supabaseAnonKey) {\n  // 在构建/运行时给出明确提示，方便排查\n  // 注意：不会阻止应用运行，但 Supabase 相关功能会失败\n  // eslint-disable-next-line no-console\n  console.error(\n    \"[Supabase] ❌ 缺少环境变量！请在 .env.local 中配置：\",\n    \"\\n  NEXT_PUBLIC_SUPABASE_URL=你的Supabase项目URL\",\n    \"\\n  NEXT_PUBLIC_SUPABASE_ANON_KEY=你的Supabase Anon Key\",\n    \"\\n配置后请重启开发服务器（Ctrl+C 然后 pnpm run dev）\"\n  )\n}\n\n// 如果环境变量缺失，使用占位符（会导致请求失败，但不会崩溃）\nexport const supabase = createClient(\n  supabaseUrl || \"https://placeholder.supabase.co\",\n  supabaseAnonKey || \"placeholder_key\",\n  {\n    auth: {\n      persistSession: true,\n      autoRefreshToken: true,\n      detectSessionInUrl: true,\n    },\n  }\n)\n\n\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,cAAc,QAAQ,GAAG,CAAC,wBAAwB;AACxD,MAAM,kBAAkB,QAAQ,GAAG,CAAC,6BAA6B;AAEjE,IAAI,CAAC,eAAe,CAAC,iBAAiB;IACpC,qBAAqB;IACrB,iCAAiC;IACjC,sCAAsC;IACtC,QAAQ,KAAK,CACX,0CACA,gDACA,yDACA;AAEJ;AAGO,MAAM,WAAW,IAAA,2TAAY,EAClC,eAAe,mCACf,mBAAmB,mBACnB;IACE,MAAM;QACJ,gBAAgB;QAChB,kBAAkB;QAClB,oBAAoB;IACtB;AACF"}},
    {"offset": {"line": 206, "column": 0}, "map": {"version":3,"sources":["file:///Users/puyijun/Downloads/authentication-flow-design%20%281%29/lib/auth.ts"],"sourcesContent":["import { supabase } from \"./supabase-client\"\n\nexport type AppUser = {\n  id: string\n  email: string\n}\n\n/**\n * 获取当前登录用户\n * 使用 getSession() 而不是 getUser()，避免在没有 session 时抛出错误\n */\nexport async function getCurrentUser(): Promise<AppUser | null> {\n  const {\n    data: { session },\n    error,\n  } = await supabase.auth.getSession()\n\n  if (error) {\n    console.error(\"[auth] getSession error\", error)\n    return null\n  }\n\n  if (!session?.user || !session.user.email) return null\n  return { id: session.user.id, email: session.user.email }\n}\n\n/**\n * 确保 profiles 中存在记录，默认 role = 'fan'\n */\nexport async function ensureProfile() {\n  const user = await getCurrentUser()\n  if (!user) return\n\n  const { data, error } = await supabase\n    .from(\"profiles\")\n    .select(\"id, role, age_verified\")\n    .eq(\"id\", user.id)\n    .maybeSingle()\n\n  if (error) {\n    console.error(\"[auth] ensureProfile select error\", error)\n    return\n  }\n\n  if (!data) {\n    const { error: insertError } = await supabase.from(\"profiles\").insert({\n      id: user.id,\n      email: user.email,\n      display_name: user.email.split(\"@\")[0],\n      role: \"fan\",\n      age_verified: false,\n    })\n    if (insertError) {\n      console.error(\"[auth] ensureProfile insert error\", insertError)\n    }\n  }\n}\n\nexport async function signUpWithEmail(email: string, password: string) {\n  const { data, error } = await supabase.auth.signUp({\n    email,\n    password,\n    options: {\n      emailRedirectTo: typeof window !== \"undefined\" ? `${window.location.origin}/auth/verify` : undefined,\n    },\n  })\n  \n  // 验证证据：打印 session 状态和 user.id\n  if (process.env.NODE_ENV === \"development\") {\n    console.log(\"[auth] signUp response:\", {\n      hasUser: !!data?.user,\n      hasSession: !!data?.session,\n      userId: data?.user?.id || \"none\",\n      error: error?.message || \"none\",\n    })\n  }\n  \n  if (error) {\n    console.error(\"[auth] signUp error:\", error)\n    throw error\n  }\n  \n  // 返回完整的数据，包括 user 和 session（如果有）\n  return data\n}\n\nexport async function signInWithEmail(email: string, password: string) {\n  const { data, error } = await supabase.auth.signInWithPassword({\n    email,\n    password,\n  })\n  \n  // 验证证据：打印 session 状态和 user.id\n  if (process.env.NODE_ENV === \"development\") {\n    console.log(\"[auth] signIn response:\", {\n      hasUser: !!data?.user,\n      hasSession: !!data?.session,\n      userId: data?.user?.id || \"none\",\n      error: error?.message || \"none\",\n    })\n  }\n  \n  if (error) throw error\n  // 登录后一定有 session，返回完整数据\n  return data\n}\n\nexport async function signInWithMagicLink(email: string) {\n  const { data, error } = await supabase.auth.signInWithOtp({\n    email,\n    options: {\n      emailRedirectTo:\n        typeof window !== \"undefined\" ? `${window.location.origin}/auth/verify` : undefined,\n    },\n  })\n  if (error) throw error\n  return data\n}\n\nexport async function signInWithGoogle() {\n  const { data, error } = await supabase.auth.signInWithOAuth({\n    provider: \"google\",\n    options: {\n      redirectTo: typeof window !== \"undefined\" ? `${window.location.origin}/auth/verify` : undefined,\n    },\n  })\n  if (error) throw error\n  return data\n}\n\nexport async function signOut() {\n  const { error } = await supabase.auth.signOut()\n  if (error) throw error\n}\n\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 327, "column": 0}, "map": {"version":3,"sources":["file:///Users/puyijun/Downloads/authentication-flow-design%20%281%29/app/auth/page.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\nimport { useRouter } from \"next/navigation\"\nimport { useState } from \"react\"\n\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Label } from \"@/components/ui/label\"\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\"\nimport { ensureProfile, signInWithEmail, signInWithGoogle, signInWithMagicLink, signUpWithEmail } from \"@/lib/auth\"\nimport { supabase } from \"@/lib/supabase-client\"\n\nexport default function AuthPage() {\n  const router = useRouter()\n\n  const [loginEmail, setLoginEmail] = useState(\"\")\n  const [loginPassword, setLoginPassword] = useState(\"\")\n  const [signupEmail, setSignupEmail] = useState(\"\")\n  const [signupPassword, setSignupPassword] = useState(\"\")\n  const [ageConfirmed, setAgeConfirmed] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n  const [info, setInfo] = useState<string | null>(null)\n  const [isLoading, setIsLoading] = useState(false)\n\n  const validateEmailPassword = (email: string, password: string) => {\n    if (!email || !password) {\n      return \"Please fill in all fields\"\n    }\n    if (!email.includes(\"@\")) {\n      return \"Please enter a valid email address\"\n    }\n    if (password.length < 8) {\n      return \"Password must be at least 8 characters\"\n    }\n    return null\n  }\n\n  const handleLoginSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setError(null)\n    setInfo(null)\n    setIsLoading(true)\n\n    const validationError = validateEmailPassword(loginEmail, loginPassword)\n    if (validationError) {\n      setError(validationError)\n      setIsLoading(false)\n      return\n    }\n\n    try {\n      const result = await signInWithEmail(loginEmail, loginPassword)\n      // 登录成功后：ensureProfile() → /home\n      if (result?.session) {\n        await ensureProfile()\n        router.push(\"/home\")\n      } else {\n        setError(\"Login successful but no session found. Please try again.\")\n      }\n    } catch (err: any) {\n      setError(err?.message ?? \"Login failed. Please try again.\")\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  const handleSignupSubmit = async (e: React.FormEvent) => {\n    console.log(\"[auth] handleSignupSubmit called\", { signupEmail, hasPassword: !!signupPassword, ageConfirmed })\n    e.preventDefault()\n    setError(null)\n    setInfo(null)\n    setIsLoading(true)\n    console.log(\"[auth] After setIsLoading(true)\")\n\n    if (!ageConfirmed) {\n      setError(\"You must confirm that you are 18+ to use this platform.\")\n      setIsLoading(false)\n      return\n    }\n\n    const validationError = validateEmailPassword(signupEmail, signupPassword)\n    if (validationError) {\n      setError(validationError)\n      setIsLoading(false)\n      return\n    }\n\n    try {\n      const result = await signUpWithEmail(signupEmail, signupPassword)\n      console.log(\"[auth] Signup result:\", result)\n      \n      // 检查 Supabase 的响应\n      if (result?.user) {\n        // 如果 Supabase 配置为不需要邮箱验证，立即创建 profile\n        if (result.session) {\n          // 有 session 说明不需要邮箱验证，立即创建 profile\n          await ensureProfile()\n          setInfo(\"Account created successfully! Redirecting...\")\n          setTimeout(() => {\n            router.push(\"/home\")\n          }, 1500)\n        } else {\n          // 需要邮箱验证\n          setInfo(\"Check your email for a confirmation link. After confirming, you can log in.\")\n        }\n      } else {\n        setInfo(\"Registration request sent. Please check your email for a confirmation link.\")\n      }\n    } catch (err: any) {\n      console.error(\"[auth] Signup error:\", err)\n      setError(err?.message ?? \"Signup failed. Please try again.\")\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  const handleMagicLink = async () => {\n    setError(null)\n    setInfo(null)\n    setIsLoading(true)\n\n    if (!signupEmail || !signupEmail.includes(\"@\")) {\n      setError(\"Please enter a valid email address\")\n      setIsLoading(false)\n      return\n    }\n\n    try {\n      await signInWithMagicLink(signupEmail)\n      setInfo(\"Magic link sent. Please check your email to continue.\")\n    } catch (err: any) {\n      setError(err?.message ?? \"Failed to send magic link. Please try again.\")\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  const handleGoogleAuth = async () => {\n    setError(null)\n    setInfo(null)\n    try {\n      await signInWithGoogle()\n      // Supabase 会重定向回 /auth/verify，verify 页面中再 ensureProfile/redirect\n    } catch (err: any) {\n      setError(err?.message ?? \"Google sign-in failed. Please check OAuth configuration.\")\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center p-4 bg-background\">\n      <div className=\"w-full max-w-md space-y-4\">\n        <div className=\"text-center space-y-2\">\n          <h1 className=\"text-3xl font-bold tracking-tight text-foreground\">GetFanSee</h1>\n          <p className=\"text-sm text-muted-foreground\">\n            Adult creator subscription platform. By continuing, you confirm you are at least 18 years old.\n          </p>\n        </div>\n\n        <Tabs defaultValue=\"login\" className=\"w-full\">\n          <TabsList className=\"grid w-full grid-cols-2 mb-4\">\n            <TabsTrigger value=\"login\" className=\"text-base\">\n              Log in\n            </TabsTrigger>\n            <TabsTrigger value=\"signup\" className=\"text-base\">\n              Sign up\n            </TabsTrigger>\n          </TabsList>\n\n          <TabsContent value=\"login\">\n            <div className=\"bg-card border border-border rounded-lg p-6 space-y-4\">\n              <h2 className=\"text-xl font-semibold text-foreground\">Welcome back</h2>\n              <p className=\"text-xs text-muted-foreground\">\n                Use your email and password to continue. We never share your credentials with creators.\n              </p>\n\n              <form onSubmit={handleLoginSubmit} className=\"space-y-4\">\n                {error && (\n                  <div className=\"bg-destructive/10 border border-destructive/20 text-destructive text-sm px-4 py-3 rounded-md\">\n                    {error}\n                  </div>\n                )}\n                {info && (\n                  <div className=\"bg-secondary/40 border border-secondary/60 text-xs text-foreground px-4 py-3 rounded-md\">\n                    {info}\n                  </div>\n                )}\n\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"login-email\" className=\"text-sm font-medium\">\n                    Email\n                  </Label>\n                  <Input\n                    id=\"login-email\"\n                    type=\"email\"\n                    placeholder=\"you@example.com\"\n                    value={loginEmail}\n                    onChange={(e) => setLoginEmail(e.target.value)}\n                    className=\"h-11\"\n                    disabled={isLoading}\n                  />\n                </div>\n\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"login-password\" className=\"text-sm font-medium\">\n                    Password\n                  </Label>\n                  <Input\n                    id=\"login-password\"\n                    type=\"password\"\n                    placeholder=\"••••••••\"\n                    value={loginPassword}\n                    onChange={(e) => setLoginPassword(e.target.value)}\n                    className=\"h-11\"\n                    disabled={isLoading}\n                  />\n                </div>\n\n                <Button type=\"submit\" className=\"w-full h-11 text-base font-medium\" disabled={isLoading}>\n                  {isLoading ? \"Please wait...\" : \"Continue\"}\n                </Button>\n\n                <div className=\"relative my-4\">\n                  <div className=\"absolute inset-0 flex items-center\">\n                    <div className=\"w-full border-t border-border\" />\n                  </div>\n                  <div className=\"relative flex justify-center text-xs\">\n                    <span className=\"px-3 bg-card text-muted-foreground\">or continue with</span>\n                  </div>\n                </div>\n\n                <Button\n                  type=\"button\"\n                  variant=\"outline\"\n                  className=\"w-full h-11 text-base font-medium bg-transparent\"\n                  onClick={handleGoogleAuth}\n                  disabled={isLoading}\n                >\n                  <svg className=\"mr-2 h-5 w-5\" viewBox=\"0 0 24 24\">\n                    <path\n                      fill=\"currentColor\"\n                      d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"\n                    />\n                    <path\n                      fill=\"currentColor\"\n                      d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"\n                    />\n                    <path\n                      fill=\"currentColor\"\n                      d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"\n                    />\n                    <path\n                      fill=\"currentColor\"\n                      d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"\n                    />\n                  </svg>\n                  Continue with Google\n                </Button>\n              </form>\n            </div>\n          </TabsContent>\n\n          <TabsContent value=\"signup\">\n            <div className=\"bg-card border border-border rounded-lg p-6 space-y-4\">\n              <h2 className=\"text-2xl font-semibold text-foreground mb-1\">Create your account</h2>\n              <p className=\"text-xs text-muted-foreground\">\n                This is an adults-only platform. You must be 18+ to sign up. We require email verification before you\n                can unlock or publish content.\n              </p>\n\n              <form onSubmit={handleSignupSubmit} className=\"space-y-4\">\n                {error && (\n                  <div className=\"bg-destructive/10 border border-destructive/20 text-destructive text-sm px-4 py-3 rounded-md\">\n                    {error}\n                  </div>\n                )}\n                {info && (\n                  <div className=\"bg-green-500/10 border border-green-500/20 text-green-400 text-sm px-4 py-3 rounded-md space-y-3\">\n                    <p>{info}</p>\n                    {info.includes(\"Check your email\") && (\n                      <div className=\"flex flex-col gap-2 pt-2\">\n                        <Button\n                          type=\"button\"\n                          variant=\"outline\"\n                          size=\"sm\"\n                          className=\"w-full\"\n                          onClick={() => {\n                            // 打开 Gmail 或跳转到验证页面\n                            window.open(\"https://mail.google.com\", \"_blank\")\n                            setTimeout(() => {\n                              router.push(\"/auth/verify\")\n                            }, 1000)\n                          }}\n                        >\n                          Open Gmail / I've confirmed\n                        </Button>\n                        <Button\n                          type=\"button\"\n                          variant=\"ghost\"\n                          size=\"sm\"\n                          className=\"w-full text-xs\"\n                          onClick={async () => {\n                            try {\n                              const { error } = await supabase.auth.resend({\n                                type: \"signup\",\n                                email: signupEmail,\n                                options: {\n                                  emailRedirectTo: `${window.location.origin}/auth/verify`,\n                                },\n                              })\n                              if (error) throw error\n                              setInfo(\"Verification email resent! Please check your inbox.\")\n                            } catch (err: any) {\n                              setError(err?.message || \"Failed to resend email. Please try again.\")\n                            }\n                          }}\n                        >\n                          Resend email\n                        </Button>\n                      </div>\n                    )}\n                  </div>\n                )}\n\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"signup-email\" className=\"text-sm font-medium\">\n                    Email\n                  </Label>\n                  <Input\n                    id=\"signup-email\"\n                    type=\"email\"\n                    placeholder=\"you@example.com\"\n                    value={signupEmail}\n                    onChange={(e) => setSignupEmail(e.target.value)}\n                    className=\"h-11\"\n                    disabled={isLoading}\n                  />\n                </div>\n\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"signup-password\" className=\"text-sm font-medium\">\n                    Password\n                  </Label>\n                  <Input\n                    id=\"signup-password\"\n                    type=\"password\"\n                    placeholder=\"••••••••\"\n                    value={signupPassword}\n                    onChange={(e) => setSignupPassword(e.target.value)}\n                    className=\"h-11\"\n                    disabled={isLoading}\n                  />\n                  <p className=\"text-xs text-muted-foreground\">Must be at least 8 characters</p>\n                </div>\n\n                <div className=\"flex items-start gap-2\">\n                  <input\n                    id=\"age-confirm\"\n                    type=\"checkbox\"\n                    checked={ageConfirmed}\n                    onChange={(e) => setAgeConfirmed(e.target.checked)}\n                    className=\"mt-1 h-4 w-4 rounded border-border bg-background\"\n                    disabled={isLoading}\n                  />\n                  <Label htmlFor=\"age-confirm\" className=\"text-xs text-muted-foreground\">\n                    I confirm that I am at least 18 years old and allowed to view adult content in my jurisdiction.\n                  </Label>\n                </div>\n\n                <Button \n                  type=\"button\"\n                  className=\"w-full h-11 text-base font-medium\" \n                  disabled={isLoading}\n                  onClick={async () => {\n                    console.log(\"[auth] ====== BUTTON CLICKED ======\")\n                    console.log(\"[auth] Current state:\", { signupEmail, hasPassword: !!signupPassword, ageConfirmed, isLoading })\n                    \n                    // 手动触发表单提交逻辑\n                    setError(null)\n                    setInfo(null)\n                    setIsLoading(true)\n                    console.log(\"[auth] After setIsLoading(true)\")\n\n                    if (!ageConfirmed) {\n                      console.log(\"[auth] Age not confirmed\")\n                      setError(\"You must confirm that you are 18+ to use this platform.\")\n                      setIsLoading(false)\n                      return\n                    }\n\n                    const validationError = validateEmailPassword(signupEmail, signupPassword)\n                    if (validationError) {\n                      console.log(\"[auth] Validation error:\", validationError)\n                      setError(validationError)\n                      setIsLoading(false)\n                      return\n                    }\n\n                    try {\n                      const result = await signUpWithEmail(signupEmail, signupPassword)\n                      \n                      // 保存邮箱到 localStorage，方便 resend\n                      localStorage.setItem(\"pending_signup_email\", signupEmail)\n                      \n                      // 按 session 真实状态走\n                      if (result?.session) {\n                        // 如果 data.session 存在：立刻 ensureProfile() 然后 router.push('/home')\n                        await ensureProfile()\n                        localStorage.removeItem(\"pending_signup_email\")\n                        router.push(\"/home\")\n                      } else if (result?.user) {\n                        // 如果 data.session 不存在：显示 \"Check your email…\" 卡片，并引导去 /auth/verify（保留但不阻塞）\n                        setInfo(\"Check your email for a confirmation link. After confirming, you can log in.\")\n                      } else {\n                        // 既没有 session 也没有 user（理论上不应该发生）\n                        setInfo(\"Registration request sent. Please check your email for a confirmation link.\")\n                      }\n                    } catch (err: any) {\n                      console.error(\"[auth] Signup error:\", err)\n                      setError(err?.message ?? \"Signup failed. Please try again.\")\n                    } finally {\n                      setIsLoading(false)\n                    }\n                  }}\n                >\n                  {isLoading ? \"Please wait...\" : \"Sign up with email\"}\n                </Button>\n\n                <Button\n                  type=\"button\"\n                  variant=\"outline\"\n                  className=\"w-full h-11 text-sm font-medium bg-transparent\"\n                  onClick={handleMagicLink}\n                  disabled={isLoading}\n                >\n                  Send magic link to my email\n                </Button>\n\n                <div className=\"relative my-4\">\n                  <div className=\"absolute inset-0 flex items-center\">\n                    <div className=\"w-full border-t border-border\" />\n                  </div>\n                  <div className=\"relative flex justify-center text-xs\">\n                    <span className=\"px-3 bg-card text-muted-foreground\">or continue with</span>\n                  </div>\n                </div>\n\n                <Button\n                  type=\"button\"\n                  variant=\"outline\"\n                  className=\"w-full h-11 text-base font-medium bg-transparent\"\n                  onClick={handleGoogleAuth}\n                  disabled={isLoading}\n                >\n                  <svg className=\"mr-2 h-5 w-5\" viewBox=\"0 0 24 24\">\n                    <path\n                      fill=\"currentColor\"\n                      d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"\n                    />\n                    <path\n                      fill=\"currentColor\"\n                      d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53\tH2.18v2.84C3.99 20.53 7.7 23 12 23z\"\n                    />\n                    <path\n                      fill=\"currentColor\"\n                      d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"\n                    />\n                    <path\n                      fill=\"currentColor\"\n                      d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"\n                    />\n                  </svg>\n                  Continue with Google\n                </Button>\n\n                <p className=\"text-xs text-muted-foreground text-center mt-4\">\n                  By signing up, you agree to our Terms of Service and Privacy Policy. This is an adults-only platform.\n                </p>\n              </form>\n            </div>\n          </TabsContent>\n        </Tabs>\n      </div>\n    </div>\n  )\n}\n\n\n"],"names":[],"mappings":"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"}}]
}